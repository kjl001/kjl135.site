<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="description" content="Kevin Lee's CSE135 Site">
	<meta name="author" content="Kevin Lee">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>CSE 135 HW Lives!</title>
	<link href="images/favicon.ico" rel="icon">
	<link rel="stylesheet" type="text/css" href="styles/index.css">
	<script src="./collector.js"></script>

	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-9S0VX3EELX"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'G-9S0VX3EELX');
	</script>

	<script src="https://cdn.lr-ingest.com/LogRocket.min.js" crossorigin="anonymous"></script>
	<script>window.LogRocket && window.LogRocket.init('qyi5wd/kjl135site');</script>
</head>

<body>
	<header>
		<section id="class">
		<h1>CSE 135</h1>
		<h2>Spring 2023</h2>
		</section>

		<section id="members">
		<h2>Team Solo</h2>
		<p><i>A team of me myself and I. Would it have been better to have more members? Maybe. But I don't got the time for that.</i></p>
		<p>Team Members<p>
		<ul>
			<li><a href="https://kjl135.site/members/kevinlee.html">Kevin Lee</a></li>
		</ul>
		</section>
	</header>

	<main>
		<h2>Homework 1</h2>
		<ul>
			<li><a href="https://kjl135.site/hello.php">PHP</a></li>
			<li><a href="https://kjl135.site/robots.txt">Robots</a></li>
			<li><a href="https://kjl135.site/report.html">Analytics</a></li>
		</ul>

		<h2>Homework 2</h2>
		<section id="hw2">
			<section>
				<label for="perl">Perl</label>
				<ul id="perl">
					<li><a href="/cgi-bin/perl-hello-html-world.pl">Hello, Perl!</a></li>
					<li><a href="/cgi-bin/perl-hello-json-world.pl">Hello, Perl! (JSON)</a></li>
					<li><a href="/cgi-bin/perl-env.pl">Environment Variables (Manually)</a></li>
					<li><a href="/cgi-bin/perl-env-pm.pl">Environment Variables (CGI.pm)</a></li>
					<li><a href="/cgi-bin/perl-get-echo.pl">GET Echo</a></li>
					<li><a href="/cgi-bin/perl-post-echo.pl">POST Echo</a></li>
					<li><a href="/cgi-bin/perl-general-echo.pl">General Echo</a></li>
					<li><a href="/perl-cgiform.html">Sessioning</a></li>
				</ul>
			</section>

			<section>
				<label for="c">C</label>
				<ul id="c">
					<li><a href="/cgi-bin/c-hello-html-world.cgi">Hello, C!</a></li>
					<li><a href="/cgi-bin/c-hello-json-world.cgi">Hello, C! (JSON)</a></li>
					<li><a href="/cgi-bin/c-env.cgi">Environment Variables</a></li>
					<li><a href="/cgi-bin/c-get-echo.cgi">GET Echo</a></li>
					<li><a href="/cgi-bin/c-post-echo.cgi">POST Echo</a></li>
					<li><a href="/cgi-bin/c-general-request-echo.cgi">General Echo</a></li>
					<li><a href="/c-cgiform.html">Sessioning</a></li>
				</ul>
			</section>

			<section>
				<label for="php">PHP</label>
				<ul id="php">
					<li><a href="/cgi-bin/php-hello-html-world.php">Hello, PHP!</a></li>
					<li><a href="/cgi-bin/php-hello-json-world.php">Hello, PHP! (JSON)</a></li>
					<li><a href="/cgi-bin/php-env.php">Environment Variables</a></li>
					<li><a href="/cgi-bin/php-get-echo.php">GET Echo</a></li>
					<li><a href="/cgi-bin/php-post-echo.php">POST Echo</a></li>
					<li><a href="/cgi-bin/php-general-echo.php">General Echo</a></li>
					<li><a href="/php-cgiform.html">Sessioning</a></li>
				</ul>
			</section>

			<section>
				<label for="python">Python</label>
				<ul id="python">
					<li><a href="/cgi-bin/py-hello-html-world.py">Hello, Python!</a></li>
					<li><a href="/cgi-bin/py-hello-json-world.py">Hello Python! (JSON)</a></li>
					<li><a href="/cgi-bin/py-env.py">Environment Variables</a></li>
					<li><a href="/cgi-bin/py-get-echo.py">GET Echo</a></li>
					<li><a href="/cgi-bin/py-post-echo.py">POST Echo</a></li>
					<li><a href="/cgi-bin/py-general-request-echo.py">General Echo</a></li>
					<li><a href="/py-cgiform.html">Sessioning</a></li>
				</ul>
			</section>
		</section>

		<h2>Homework 3</h2>
		<p>TBD</p>
	</main>

	<footer>
		<p>A simple page for CSE 135 made with &hearts; by Kevin Lee</p>
		<p id="time" style="background-color: lightgray">JavaScript is turned off!</p>
		<p id="js-enabled" hidden>false</p>
		<img id="flag" src="./images/img-checker.jpg" alt="">
	</footer>

	<script>
		document.getElementById("time").innerText = `Site loaded on: ${new Date()}`;

		document.getElementById("js-enabled").innerText = "true";
		const staticData = {
			userAgent: navigator.userAgent,
			userLanguage: navigator.language,
			cookieEnabled: navigator.cookieEnabled,
			jsEnabled: document.getElementById("js-enabled").innerText == "true",
			imgEnabled: false,
			cssEnabled: document.getElementById("time").style.backgroundColor == "lightgray",
			windowWidth: screen.width,
			windowHeight: screen.height,
			netType: navigator.connection.type
		};

		const performanceData = {
			timing: {},
			loadStart: 0,
			loadEnd: 0,
			totalLoad: 0
		};

		// Run on window load
		function load() {
			if ((document.getElementById("flag").offsetWidth == 1 && document.getElementById("flag").readyState == "complete") ||
				(document.getElementById("flag").offsetWidth == 1 && document.getElementById("flag").readyState == undefined)) {
				staticData["imgEnabled"] = true;
			}

			const observer = new PerformanceObserver((list) => {
				list.getEntries().forEach((entry) => {
					if (Object.keys(entry.toJSON()).length != 0) {
						performanceData["timing"] = entry.toJSON();
						performanceData["loadStart"] = performanceData["timing"].loadEventStart;
						performanceData["loadEnd"] = performanceData["timing"].loadEventEnd;
						performanceData["totalLoad"] = performanceData["timing"].loadEventEnd - performanceData["timing"].loadEventStart;
					}
				});
			});

			observer.observe({ entryTypes: ["navigation"] });

			const totalData = {
				static: staticData,
				performance: performanceData,
			};

			post(totalData);
		}


		const staticURL = "https://kjl135.site/json/posts";

		async function post(data) {
			const res = await fetch(staticURL, {
				method: "POST",
				headers: {
					"Content-Type": "application/json"
				},
				body: JSON.stringify(data)
			}).then(response => {
				console.log(response);
			}).catch(error => {
				console.log(error);
			});
		}

		window.onload = load;
	</script>

</body>

</html>
